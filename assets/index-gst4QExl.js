(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();const $=[{id:1,name:"Start",type:"start",image:"./properties/start.png",price:300},{id:2,name:"Asik",type:"property",image:"./properties/asik.jpg",price:400,tax:200,owner:null},{id:3,name:"Hakuna Matata",type:"property",image:"./properties/hakuna_matata.jpg",price:200,tax:100,owner:null},{id:4,name:"Remiza",type:"property",image:"./properties/remiza.jpg",price:500,tax:250,owner:null},{id:5,name:"Domek Kubusia",type:"property",image:"./properties/domek_kubusia.jpg",price:300,tax:150,owner:null},{id:6,name:"Domek Ozziego",type:"property",image:"./properties/domek_oskara.jpg",price:300,tax:150,owner:null},{id:7,name:"Domek Benia",type:"property",image:"./properties/domek_benia.jpg",price:300,tax:150,owner:null},{id:8,name:"Czerwony Pomost",type:"property",image:"./properties/czerwony_pomost.jpg",price:500,tax:250,owner:null},{id:9,name:"Karta Szansy",type:"chance",image:"./properties/chance.jpg"},{id:10,name:"Grzywna",type:"fine",image:"./properties/fine.png",price:200},{id:11,name:"Grzywna",type:"fine",image:"./properties/fine.png",price:200},{id:12,name:"Wyp≈Çata",type:"reward",image:"./properties/reward.png"},{id:13,name:"Zakup zio≈Ça",type:"fine",image:"./properties/weed.png",price:200},{id:14,name:"Zakup alkoholu",type:"fine",image:"./properties/vodka.png",price:100},{id:15,name:"Pla≈ºa",type:"property",image:"./properties/plaza.jpg",price:200,tax:100,owner:null},{id:16,name:"Dom Kondiego",type:"property",image:"./properties/kondi_dom.jpg",price:300,tax:200,owner:null},{id:17,name:"Izba wytrze≈∫wie≈Ñ",type:"jail",image:"./properties/jail.jpg"},{id:18,name:"Dom Kamcia",type:"property",image:"./properties/dom_kamcia.jpg",price:300,tax:200,owner:null},{id:19,name:"Zakup alkoholu",type:"fine",image:"./properties/vodka.png",price:100},{id:20,name:"Plac zabaw",type:"property",image:"./properties/plac_zabaw.jpg",price:100,tax:50,owner:null},{id:21,name:"G≈Çuch√≥w",type:"property",image:"./properties/gluchow.jpg",price:200,tax:100,owner:null},{id:22,name:"Stare Bogaczowice",type:"property",image:"./properties/stare_bogaczowice.jpg",price:200,tax:100,owner:null},{id:23,name:"Discord",type:"property",image:"./properties/discord.jpg",price:100,tax:50,owner:null},{id:24,name:"Zje≈ºdzalnia na pla≈ºy",type:"property",image:"./properties/zjezdzalnia.jpg",price:100,tax:50,owner:null},{id:25,name:"Wa≈Çbrzych",type:"property",image:"./properties/walbrzych.jpg",price:200,tax:100,owner:null},{id:26,name:"Tarn√≥w Jezierny",type:"property",image:"./properties/tarnow_jezierny.jpg",price:1500,tax:750,owner:null},{id:27,name:"Piwnica u Kamilka",type:"property",image:"./properties/piwnica_kamcia.jpg",price:1e3,tax:500,owner:null},{id:28,name:"Ku≈∫nica",type:"property",image:"./properties/kuznica.jpg",price:200,tax:100,owner:null},{id:29,name:"Jacuzzi",type:"property",image:"./properties/jacuzzi.jpg",price:200,tax:100,owner:null},{id:30,name:"Karta Szansy",type:"chance",image:"./properties/chance.jpg"},{id:31,name:"Karta Szansy",type:"chance",image:"./properties/chance.jpg"},{id:32,name:"Dom Mikiego",type:"property",image:"./properties/dom_mikiego.jpg",price:300,tax:150,owner:null}];class v{constructor(){this.type="beer",this.quantity=0,this.price=250,this.image=new Image,this.image.src="./game_pieces/alkohol/beer.png",this.updateTaxMultiplier()}updateTaxMultiplier(){const a=this.type==="beer"?1:3,t=this.type==="beer"?.5:1;this.taxMultiplier=a+this.quantity*t}draw(a){for(let t=0;t<this.quantity;t++){const e=document.createElement("img");e.className="property-alcohol",e.src=this.image.src,e.alt="ALKOHOL!!!",this.type==="beer"?e.classList.add("beer"):this.type==="vodka"&&(e.classList.remove("beer"),e.classList.add("vodka")),a.appendChild(e)}}update(){this.quantity++,this.updateTaxMultiplier(),this.type==="beer"&&this.quantity>4&&this.changeBeerIntoVodka()}destroy(a){const t=i.getCurrentPlayer();if(!t.hasKilof)return console.log(`${t.name} nie ma kilofa.`),!1;switch(this.type){case"beer":this.quantity>0&&(this.quantity--,console.log(`${t.name} niszczy browara w ${a.name}.`));break;case"vodka":this.quantity>1?(this.quantity--,console.log(`${t.name} niszczy flaszkƒô w ${a.name} :(.`)):(this.changeVodkaIntoBeer(),console.log(`${t.name} zniszczy≈Ç ostatniƒÖ flaszkƒô w ${a.name} :(.`));break;default:return!1}t.hasKilof=!1,this.updateTaxMultiplier(),a.displayPropertyCard()}changeBeerIntoVodka(){this.type="vodka",this.quantity=1,this.price=650,this.image.src="./game_pieces/alkohol/vodka.png"}changeVodkaIntoBeer(){this.quantity=4,this.resetToBeer()}resetAlcohol(){this.quantity=0,this.resetToBeer()}resetToBeer(){this.type="beer",this.price=250,this.image.src="./game_pieces/alkohol/beer.png",this.updateTaxMultiplier()}}class S{constructor(a){this.id=a.id,this.name=a.name,this.type=a.type,this.image=new Image,this.image.src=a.image,this.price=a.price,this.tax=a.tax,this.owner=a.owner,this.alcohols=new v,this.background="none"}resetProperty(){this.owner=null,this.background="none",this.alcohols.resetAlcohol()}displayPropertyCard(){const a=document.querySelector(".property-card");a&&document.body.removeChild(a);const t=document.createElement("div");t.className="property-card";const e=document.createElement("button");e.className="property-close",e.className="close-btn",e.innerText="x",e.addEventListener("click",()=>{document.body.removeChild(t)});const n=document.createElement("h2");n.className="property-title",n.innerText=this.name;const o=document.createElement("img");o.className="property-img",o.src=this.image.src,o.alt=this.name;const s=document.createElement("div");s.className="property-value";const c=document.createElement("div");c.className="property-alcohol-container",this.owner&&this.alcohols.draw(c);const l=document.createElement("span");switch(this.type){case"start":l.innerHTML=`Za przej≈õcie przez <span class="property-price">START</span> dostajesz <span class="property-price">${this.price}.</span>`;break;case"jail":l.innerText="Izba Wytrze≈∫wie≈Ñ. Tu zostaniesz zamkniƒôty.";break;case"property":this.owner?(l.innerHTML=`Podatek <span class="property-price">${this.tax*this.alcohols.taxMultiplier}</span> z≈Ç dla <span class="property-price">${this.owner}</span>`,c.addEventListener("click",()=>this.alcohols.destroy(this))):l.innerHTML=`Cena: <span class="property-price">${this.price}</span> z≈Ç`;break;case"fine":l.innerHTML=`P≈Çacisz <span class="property-price">${this.price}</span> z≈Ç mordeczko.`;break;case"reward":l.innerText="Zgarniasz ca≈Çy hajs jako nagrodƒô :O";break;case"chance":l.innerText="CiƒÖgnij szansƒô.";break}s.appendChild(c),s.appendChild(l),t.appendChild(e),t.appendChild(n),t.appendChild(o),t.appendChild(s),document.body.appendChild(t)}}const f=$.map(r=>new S(r)),h=window.innerWidth>=475?document.querySelector(".board"):document.querySelector(".board-mobile");function E(){const r=f.find(e=>e.name==="Start"),a=f.find(e=>e.type==="jail"),t=f.filter(e=>e!==r&&e!==a);return t.sort(()=>Math.random()-.5),t.unshift(r),t.splice(16,0,a),t}function M(r){const a=document.createElement("img");a.src=r.image.src,a.alt=r.name,a.classList.add("property-image");const t=document.createElement("div");return t.classList.add("property-name"),t.textContent=r.name,[a,t]}function I(){const r=E();i.initializeBoard(r);for(let a=0;a<r.length;a++){const t=h.querySelector(`#c${a+1}`);t.style.backgroundColor=r[a].background;const e=r[a],[n,o]=M(e);t.appendChild(n),t.appendChild(o),t.addEventListener("click",()=>r[a].displayPropertyCard())}}function P(){for(let r=0;r<i.board.length;r++){const a=h.querySelector(`#c${r+1}`);if(a.style.backgroundColor!==i.board[r].background){for(a.style.backgroundColor=i.board[r].background;a.firstChild;)a.removeChild(a.firstChild);const t=i.board[r],[e,n]=M(t);a.appendChild(e),a.appendChild(n),Object.values(i.players).forEach(o=>{o.draw()})}}}class T{constructor(){this.players={},this.playerIds=null,this.currentPlayerId=null,this.board=[],this.reward=0,this.isGameStarted=!1,this.areDiceRolled=!1}initializeBoard(a){this.board=a}getCurrentPlayer(){return this.players[this.currentPlayerId]}currentPlayerStyle(a){const t=document.querySelector(".current-player__name");t.textContent=a,document.querySelectorAll(".player-container").forEach(n=>{n.querySelector(".player-info-name").textContent===a?n.style.borderColor="var(--clr-red)":n.style.borderColor="var(--clr-blue)"})}startGame(){this.isGameStarted=!0,this.setReward(this.reward),this.playerIds=Object.keys(this.players),this.currentPlayerId=this.playerIds[0],this.currentPlayerStyle(this.players[this.currentPlayerId].name),console.log(`Gra siƒô zaczƒô≈Ça! ${this.players[this.currentPlayerId].name} rozpoczyna.`)}rollDice(){if(this.areDiceRolled)return;this.areDiceRolled=!0;const a=h.querySelector(".dice-result"),t=Math.floor(Math.random()*6)+1;a.textContent=t;const e=this.getCurrentPlayer();console.log(`${e.name} wyrzuci≈Ç: ${t}`),e.move(t)}switchPlayerTurn(){const a=this.playerIds.indexOf(this.currentPlayerId);if(a!==-1){const t=(a+1)%this.playerIds.length;this.currentPlayerId=this.playerIds[t]}else this.playerIds.length>0&&(this.currentPlayerId=this.playerIds[0]);this.players[this.currentPlayerId].isBankrupt&&this.switchPlayerTurn()}nextTurn(){this.switchPlayerTurn();const a=this.getCurrentPlayer();this.currentPlayerStyle(a.name),console.log(`Tura nale≈ºy do ${a.name}`)}setReward(a){this.reward+=a,document.querySelector(".reward-money").innerText=this.reward}}const _=[{id:1,name:"Zestaw Deluxe",text:"Kupujesz Zestaw Deluxe.",action:"Tracisz 100z≈Ç oraz idziesz 4 pola do przodu.",image:"./chance_cards/zestaw_deluxe.jpg"},{id:2,name:"Zakup zio≈Ça",text:"Kupujesz zio≈Ço mordeczko i jest essa 420 üòé.",action:"Idziesz na pole zakupu zio≈Ça.",image:"./chance_cards/ziolo.jpg"},{id:3,name:"Tatua≈º TJ",text:"Robisz sobie tatua≈º TJ i zyskujesz respekt.",action:"Nastƒôpnym razem p≈Çacisz po≈Çowƒô mniej podatku.",image:"./chance_cards/tatuaz-tj.jpg"},{id:4,name:"P√≥≈Çwidoczny",text:"Jeste≈õ incognito p√≥≈Çwidoczny.",action:"Gdy staniesz na polu innego gracza masz 50% szans, ≈ºe Ciƒô nie zauwa≈ºy (3 u≈ºycia).",image:"./chance_cards/polwidoczni.jpg"},{id:5,name:"Koleje Dolno≈õlƒÖskie",text:"100 minut op√≥≈∫nienia xD",action:"Wracasz na Start",image:"./chance_cards/koleje-dolnoslaskie.jpg"},{id:6,name:"Kilof",text:"Zbudowa≈Çe≈õ zajebisty kilof! Zniszcz komu≈õ jakie≈õ domki.",action:"Niszczysz dowolny alkohol innego gracza.",image:"./chance_cards/kilof.jpg"},{id:7,name:"W√≥dka ‚ù§",text:"W√≥deczka to mi≈Ço≈õƒá ≈ºycia.",action:"Przejd≈∫ na pole w√≥dki.",image:"./chance_cards/wodka-serce.jpg"},{id:8,name:"Emotki",text:"Zjara≈Çe≈õ siƒô i robisz emotki. Inni czujƒÖ respekt.",action:"Dostajesz od ka≈ºdego po 20z≈Ç, ale stoisz w miejscu jednƒÖ kolejkƒô.",image:"./chance_cards/emotki.jpg"},{id:9,name:"Zgon",text:"Najeba≈Çe≈õ siƒô i zgonujesz.",action:"Lecisz na izbe wytrze≈∫wie≈Ñ.",image:"./chance_cards/zgon.jpg"},{id:10,name:"Prezent urodzinowy",text:"Urodzinki ü•≥",action:"Dostajesz od ka≈ºdego po 50z≈Ç.",image:"./chance_cards/prezencik.jpg"},{id:11,name:"Scam and Run",text:"Zak≈Çadasz Scam and Run i stajesz siƒô bogaty.",action:"Dostajesz 1 000 000 z≈Ç, ale tracisz z tego 999 000 z≈Ç.",image:"./chance_cards/scam-and-run.jpg"},{id:12,name:"Wiadro",text:"Walisz wiadro z ziomeczkami.",action:"Przez 2 tury siƒô nie ruszasz.",image:"./chance_cards/wiadro.jpg"},{id:13,name:"Wyp≈Çata",text:"Dostajesz wyp≈Çatƒô üíµ",action:"Idziesz na pole nagrody.",image:"./chance_cards/wyplata.jpg"},{id:14,name:"Rudy chuj",text:"Twoje w≈Çosy to teraz rudy chuj.",action:"Nic siƒô nie dzieje, po prostu jest ≈õmiesznie xD.",image:"./chance_cards/rudy-chuj.jpg"},{id:15,name:"SIGMA",text:"SIGMA",action:"Stajesz siƒô SIGMƒÑ. Gdy nastƒôpnym razem staniesz na polu innego gracza, to on Ci p≈Çaci.",image:"./chance_cards/sigma.jpg"},{id:16,name:"Main Event",text:"Szczepan przyjecha≈Ç üòØ",action:"Tracisz 200z≈Ç.",image:"./chance_cards/main-event.jpg"},{id:17,name:"Alkoholizm",text:"Zostajesz alkoholikiem üç∫.",action:"Zyskujesz respekt, ale tracisz hajs. -10% twoich pieniƒôdzy.",image:"./chance_cards/alkoholizm.jpg"},{id:18,name:"Tankowanie Pol√≥wki",text:"Pol√≥wkƒô wypada zatankowaƒá.",action:"Tracisz 51z≈Ç.",image:"./chance_cards/tankowanie-polowki.jpg"},{id:19,name:"Ma≈Ç≈ºe≈Ñstwo",text:"≈ªenisz siƒô z losowym graczem.",action:"20% twoich pieniƒôdzy idzie do niego.",image:"./chance_cards/malzenstwo.jpg"},{id:20,name:"Pol√≥wka",text:"Pol√≥wkƒÖ dojedziesz wszƒôdzie.",action:"Udaj siƒô na dowolne pole.",image:"./chance_cards/polowka.jpg"},{id:21,name:"Snajper",text:"Snajper do ciebie strzela!",action:"Nastƒôpne 2 kolejki ruszasz siƒô tylko o po≈Çowe oczek.",image:"./chance_cards/snajper.jpg"},{id:22,name:"No i chuj",text:"No i chuj, zosta≈Çe≈õ b≈Çogos≈Çawiony!",action:"Unikasz izby wytrze≈∫wie≈Ñ.",image:"./chance_cards/no-i-chuj.jpg"},{id:23,name:"Dzidek",text:"Dzidka spotka≈Çe≈õ!",action:"Patrz jaki zajebisty.",image:"./chance_cards/dzidek.jpg"},{id:24,name:"Misja Niemcy",text:"Kto wie ten wie.",action:"Robisz k√≥≈Çko po planszy",image:"./chance_cards/misja_niemcy.jpg"},{id:25,name:"Movement Ma≈Çpy",text:"Czaisz ziomu≈õ ten movement.",action:"Poruszasz siƒô 2 razy dalej przez 2 tury.",image:"./chance_cards/movement.jpg"}];class x{constructor(a){this.name=a.name,this.text=a.text,this.action=a.action,this.image=new Image,this.image.src=a.image}static drawChanceCard(a){const t=Math.floor(Math.random()*u.length),e=document.createElement("div");e.className="chance-card";const n=document.createElement("button");n.classList.add("close-btn"),n.classList.add("card-close"),n.innerText="x",n.addEventListener("click",()=>{document.body.removeChild(e),u[t].chanceCardAction(a,u[t])});const o=document.createElement("h2");o.className="card-title",o.innerText=u[t].name;const s=document.createElement("img");s.className="card-image",s.src=u[t].image.src,s.alt=u[t].name;const c=document.createElement("p");c.className="card-description",c.innerText=u[t].text;const l=document.createElement("p");l.className="card-action",l.innerText=u[t].action,e.appendChild(n),e.appendChild(o),e.appendChild(s),e.appendChild(c),e.appendChild(l),document.body.appendChild(e)}chanceCardAction(a,t){const e=i.players[a];switch(t.name){case"Zestaw Deluxe":e.substractMoney(100),e.move(4),i.setReward(100),console.log(`${e.name} zakupi≈Ç Zestaw Deluxe.`);break;case"Zakup zio≈Ça":i.board.forEach((p,d)=>{p.name===t.name&&(e.clearPlayerFromCell(),e.position=d+1,e.draw(),y.checkCurrentField(e))}),console.log(`${e.name} idzie kupiƒá jazz.`);break;case"Tatua≈º TJ":e.respect=!0,console.log(`${e.name} zyskuje respekt za tatua≈º TJ.`);break;case"P√≥≈Çwidoczny":e.incognito+=3,console.log(`${e.name} staje siƒô Incognito P√≥≈Çwidoczny.`);break;case"Koleje Dolno≈õlƒÖskie":e.clearPlayerFromCell(),e.position=1,e.draw(),y.checkCurrentField(e),console.log(`${e.name} wsiada w Koleje Dolno≈õlƒÖskie.`);break;case"Kilof":e.hasKilof=!0,console.log(`${e.name} zbudowa≈Ç kilof po jaraniu i teraz mo≈ºe niszczyƒá.`);break;case"W√≥dka ‚ù§":i.board.forEach((p,d)=>{p.name==="Zakup alkoholu"&&(e.clearPlayerFromCell(),e.position=d+1,e.draw(),y.checkCurrentField(e))}),console.log(`${e.name} idzie kupiƒá w√≥dkƒô.`);break;case"Emotki":let n=0;i.playerIds.forEach(p=>{i.players[p].substractMoney(20),n+=20}),e.addMoney(n),e.cantMove=1,console.log(`${e.name} robi emotki, wiƒôc dostaje hajsik.`);break;case"Zgon":e.isBlessed?(alert(`${e.name} uratowany poprzez b≈Çogos≈Çawie≈Ñstwo.`),console.log(`${e.name} uratowany poprzez b≈Çogos≈Çawie≈Ñstwo.`)):(i.board.forEach((p,d)=>{p.name==="Izba wytrze≈∫wie≈Ñ"&&(e.clearPlayerFromCell(),e.position=d+1,e.draw(),y.checkCurrentField(e))}),console.log(`${e.name} idzie do Izby wytrze≈∫wie≈Ñ. Jebany alkoholik.`));break;case"Prezent urodzinowy":let o=0;i.playerIds.forEach(p=>{i.players[p].substractMoney(50),o+=50}),e.addMoney(o),console.log(`${e.name} ma urodzinki, wiƒôc zarabia.`);break;case"Scam and Run":e.addMoney(1e6),e.substractMoney(999e3),console.log(`${e.name} zarabia 1 000 000z≈Ç ze Scam and Run. Oraz traci 999 000z≈Ç.`);break;case"Wiadro":e.cantMove=2,console.log(`${e.name} wali wiadro i nie rusza siƒô 2 tury.`);break;case"Wyp≈Çata":i.board.forEach((p,d)=>{p.name===t.name&&(e.clearPlayerFromCell(),e.position=d+1,e.draw(),y.checkCurrentField(e))}),console.log(`${e.name} dostaje wyp≈Çatƒô.`);break;case"Rudy chuj":e.pawn="./game_pieces/pawns/rudy_chuj.png",e.draw(),console.log(`${e.name} to rudy chuj.`);break;case"SIGMA":e.isSIGMA=!0,console.log(`${e.name} zostaje SIGMƒÑ.`);break;case"Main Event":e.substractMoney(200),console.log(`${e.name} traci 200z≈Ç z powodu wizyty Szczepana.`);break;case"Alkoholizm":const s=Math.floor(e.money/10);e.substractMoney(s),console.log(`${e.name} w wyniku alkoholizmu traci ${s}z≈Ç.`);break;case"Tankowanie Pol√≥wki":e.substractMoney(51),i.setReward(51),console.log(`${e.name} tankuje za 51z≈Ç.`);break;case"Ma≈Ç≈ºe≈Ñstwo":const c=Math.floor(e.money/5),l=Math.floor(Math.random()*i.playerIds.length),m=i.players[i.playerIds[l]];e.substractMoney(c),m.addMoney(c),console.log(`${e.name} odda≈Ç ${c}z≈Ç dla ${m.name}.`);break;case"Pol√≥wka":e.hasPolowka=!0,console.log(`${e.name} wsiada do Pol√≥wki i jedzie gdzie chce.`);break;case"Snajper":e.isShot=!0,e.turnsToHeal=2,console.log(`${e.name} zosta≈Ç postrzelony przez Snajpera.`);break;case"No i chuj":e.isBlessed=!0,console.log(`No i chuj! ${e.name} zosta≈Ç b≈Çogos≈Çawiony.`);break;case"Dzidek":console.log(`${e.name} spotka≈Ç dzidka.`);break;case"Misja Niemcy":e.move(32),console.log(`${e.name} robi Misjƒô Niemcy!`);break;case"Movement Ma≈Çpy":e.movement=2,console.log(`${e.name} ma ma≈Çpi movement.`);break}}}const u=_.map(r=>new x(r));class j{static buyProperty(a,t){t.money>=a.price?(t.properties[a.id]=a,a.owner=t.name,t.substractMoney(a.price),a.background=t.color,P(),console.log(`${t.name} zakupi≈Ç ${a.name}`)):(alert(`No sorry ${t.name}, za biedny jeste≈õ. XD.`),console.log(`${t.name} to jebany biedak.`))}static sellProperty(a,t){if(Object.keys(a.properties).length===0){alert("Nie posiadasz ≈ºadnych nieruchomo≈õci do sprzeda≈ºy."),a.bankruptcy();return}let e=`Podatek wynosi: ${t}z≈Ç
Twoje posiad≈Ço≈õci:
`;Object.values(a.properties).forEach(c=>{e+=`ID: ${c.id}, ${c.name}, Zarobisz: ${c.tax*c.alcohols.taxMultiplier}z≈Ç.
`});const n=prompt(`Wybierz ID, ≈ºeby sprzedaƒá:
${e}`),o=a.properties[n];if(!o){alert("Niepoprawne ID"),this.sellProperty(a);return}const s=o.tax*o.alcohols.taxMultiplier;a.addMoney(s),a.properties[n].resetProperty(),delete a.properties[n],P(),alert(`Sprzedano ${o.name} za ${s}`)}static payTaxes(a,t,e){if(t.isSIGMA)a.substractMoney(e),t.addMoney(e),t.isSIGMA=!1,setTimeout(()=>{alert(`${a.name} p≈Çaci podatek ${e} z≈Ç dla SIGMY ${t.name}`)},200),console.log(`${t.name} jest SIGMƒÑ wiƒôc ${a.name} p≈Çaci mu ${e} z≈Ç.`);else{t.money<=0&&this.sellProperty(t,e);let n=t.respect?Math.floor(e/2):e;t.substractMoney(n),a.addMoney(n),t.respect=!1,setTimeout(()=>{alert(`Podatek ${n} z≈Ç dla ${a.name}`)},200),console.log(`${t.name} zap≈Çaci≈Ç ${n} z≈Ç podatku dla ${a.name}.`)}}static buyAlcohol(a,t){const e=a.alcohols;t.money>=e.price?(e.update(),t.substractMoney(e.price),alert(`${t.name} kupuje alkohol w ${a.name}.`),console.log(`${t.name} kupuje alkohol w "${a.name}" za ${e.price} z≈Ç.`)):(alert(`No sorry ${t.name}, za biedny jeste≈õ. XD.`),console.log(`${t.name} to jebany biedak.`))}}class y{static checkCurrentField(a){const t=i.board[a.position-1];switch(t.type){case"jail":if(!a.isBlessed){a.cantMove=3,i.areDiceRolled=!1,i.nextTurn();return}a.isBlessed=!1;break;case"chance":x.drawChanceCard(a.id);break;case"fine":const e=t.price;a.substractMoney(e),i.setReward(e);break;case"reward":a.addMoney(i.reward),i.setReward(-i.reward);break;case"property":let n=!1;Object.values(a.properties).forEach(o=>{if(o.id===t.id){n=!0,setTimeout(()=>{confirm(`Czy chcesz kupiƒá alkohol w "${t.name}" za ${t.alcohols.price} z≈Ç?`)&&j.buyAlcohol(t,a)},200);return}}),i.playerIds.forEach(o=>{const s=i.players[o],c=s.properties[t.id];if(s.id!==a.id&&c){if(n=!0,a.incognito>0&&!(Math.random()<.5)){a.incognito--;return}j.payTaxes(s,a,c.tax*c.alcohols.taxMultiplier);return}}),n||setTimeout(()=>{confirm(`Kupujesz "${t.name}" za ${t.price}z≈Ç?`)&&j.buyProperty(t,a)},200);break}t.type!=="chance"&&t.displayPropertyCard(),i.areDiceRolled=!1,i.nextTurn()}}class N{constructor(a,t,e){this.id=a,this.name=t,this.pawn=e,this.position=1,this.money=2e3,this.color=this.getRandomColor(),this.properties={},this.isBankrupt=!1,this.isSIGMA=!1,this.isShot=!1,this.turnsToHeal=0,this.respect=!1,this.incognito=0,this.cantMove=0,this.hasPolowka=!1,this.hasKilof=!1,this.isBlessed=!1,this.movement=0}getRandomColor(){const a="0123456789ABCDEF";let t="#";for(let e=0;e<6;e++)t+=a[Math.floor(Math.random()*16)];return t}clearPlayerFromCell(){const a=h.querySelector(`#c${this.position}`),t=a.querySelector(".player");t&&a.removeChild(t)}goThroughStart(){const a=i.board[0].price;this.addMoney(a)}draw(){if(this.clearPlayerFromCell(),this.isBankrupt)return;const a=document.createElement("div");a.className="player",a.style.backgroundColor=this.color,a.innerHTML=`
      <div class="player-name">${this.name}</div> 
      <img class="player-pawn" src="${this.pawn}" alt="${this.name}">
    `,h.querySelector(`#c${this.position}`).appendChild(a)}move(a){if(this.cantMove>0){this.cantMove--,this.draw(),i.areDiceRolled=!1,i.nextTurn();return}this.movement>0&&(a*=2,this.movement--);let t=0;const e=this,n=setInterval(()=>{e.clearPlayerFromCell(),e.isShot?(e.position+=Math.floor(a/2),e.turnsToHeal--,e.turnsToHeal===0&&(e.isShot=!1)):e.position++,e.position>32&&(e.position-=32,e.goThroughStart()),e.draw(),t++,t===a&&(clearInterval(n),y.checkCurrentField(this))},500)}addMoney(a){this.money+=a}substractMoney(a){this.money-=a}bankruptcy(){this.isBankrupt=!0,Object.values(this.properties).forEach(a=>{a.resetProperty()}),delete i.players[this.id],console.log(i.players),P()}}const C=document.querySelector(".registered-players");function L(){C.innerHTML="",Object.keys(i.players).forEach(a=>{const t=i.players[a],e=document.createElement("li");e.className="lobby__player";const n=document.createElement("span");n.className="lobby__player-name",n.textContent=t.name;const o=document.createElement("img");o.className="lobby__player-img",o.src=t.pawn,o.alt=t.name,e.style.backgroundColor=t.color,e.appendChild(n),e.appendChild(o),C.appendChild(e)})}document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector(".menu-toggle"),a=document.querySelector(".side-menu"),t=document.querySelector(".close-button"),e=document.querySelector(".players-list"),n=()=>{a.classList.toggle("open")},o=()=>{e.innerHTML="",Object.values(i.players).forEach(s=>{const c=document.createElement("div");c.className="player-container",c.style.backgroundColor=s.color;const l=document.createElement("li");l.className="player-info";const m=document.createElement("img");m.className="player-info-pawn",m.src=s.pawn,m.alt=s.name,m.loading="lazy";const p=document.createElement("span");p.className="player-info-name",p.textContent=s.name;const d=document.createElement("span");d.className="player-info-money",d.textContent=`${s.money}z≈Ç`;const k=document.createElement("ul");k.className="player-properties",Object.values(s.properties).forEach(w=>{const z=document.createElement("li");z.className="player-property";const b=document.createElement("span");b.className="player-property-name",b.textContent=w.name;const g=document.createElement("img");g.className="player-property-img",g.src=w.image.src,g.alt=w.name,g.loading="lazy",z.appendChild(g),z.appendChild(b),k.appendChild(z)}),l.appendChild(m),l.appendChild(p),l.appendChild(d),c.appendChild(l),c.appendChild(k),e.appendChild(c),i.currentPlayerStyle(s.name)})};r.addEventListener("click",()=>{n(),o()}),t.addEventListener("click",n)});const D=[{id:1,name:"Pionek 1",image:"./game_pieces/pawns/pionek1.png"},{id:2,name:"Pionek 2",image:"./game_pieces/pawns/pionek2.png"},{id:3,name:"Pionek 3",image:"./game_pieces/pawns/pionek3.png"},{id:4,name:"Pionek 4",image:"./game_pieces/pawns/pionek4.png"},{id:5,name:"Pionek 5",image:"./game_pieces/pawns/pionek5.png"},{id:6,name:"Pionek 6",image:"./game_pieces/pawns/pionek6.png"},{id:7,name:"Pionek 7",image:"./game_pieces/pawns/pionek7.png"},{id:8,name:"Pionek 8",image:"./game_pieces/pawns/pionek8.png"},{id:9,name:"Pionek 9",image:"./game_pieces/pawns/pionek9.png"},{id:10,name:"Pionek 10",image:"./game_pieces/pawns/pionek10.png"},{id:11,name:"Pionek 11",image:"./game_pieces/pawns/pionek11.png"},{id:12,name:"Pionek 12",image:"./game_pieces/pawns/pionek12.png"},{id:13,name:"Pionek 13",image:"./game_pieces/pawns/pionek13.png"},{id:14,name:"Pionek 14",image:"./game_pieces/pawns/pionek14.png"},{id:15,name:"Pionek 15",image:"./game_pieces/pawns/pionek15.png"},{id:16,name:"Pionek 16",image:"./game_pieces/pawns/pionek16.png"}];document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector(".pawns-list");let a=null;const t=n=>{a&&a.classList.remove("selectedPawn"),n.classList.add("selectedPawn"),a=n};(()=>{r.innerHTML="",D.forEach(n=>{const o=document.createElement("li");o.className="pawn";const s=document.createElement("img");s.className="playerPhoto",s.src=n.image,s.alt=n.name,s.loading="lazy",o.addEventListener("click",()=>t(o)),o.appendChild(s),r.appendChild(o)})})()});const i=new T;function q(){return Math.random().toString(36).substring(2,10)}document.querySelector("#userForm").addEventListener("submit",r=>{r.preventDefault();const a=document.querySelector("#usernameInput"),t=document.querySelector(".selectedPawn"),e=q();i.players[e]=new N(e,a.value,t.querySelector(".playerPhoto").src),a.value="",t.classList.remove("selectedPawn"),L()});document.querySelector("#start").addEventListener("click",()=>{document.querySelector(".lobby").style.display="none",document.querySelector("#userForm").style.display="none",Object.values(i.players).forEach(r=>{r.draw()}),i.startGame()});h.querySelector(".dice-container").addEventListener("click",()=>{i.rollDice()});const B=document.querySelectorAll(".board-cell");B.forEach(r=>{r.addEventListener("click",R)});function R(r){let a=r.target;for(;a!==null&&!a.classList.contains("board-cell");)a=a.parentNode;const e=a.id.match(/\d+/),n=i.getCurrentPlayer();n.hasPolowka?(n.clearPlayerFromCell(),n.position=parseInt(e[0]),n.draw(),n.hasPolowka=!1,y.checkCurrentField(n)):console.log(`${n.name} nie ma pol√≥wki.`)}I();
